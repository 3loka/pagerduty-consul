FROM node:14
WORKDIR /usr/src/app
COPY package.json ./
COPY package-lock.json ./
RUN npm install
COPY . .
ENV POSTGRES_PASSWORD=test 
ENV HCP_ORG=fc064bc9-fc9d-41ee-9e0d-11fb39e059a5
ENV HCP_URL=http://ec2-44-204-175-78.compute-1.amazonaws.com:28081
ENV HCP_JWT=eyJhbGciOiJSUzI1NiIsImtpZCI6ImJhNzY0OTliLTI4NjUtNDZjZC1iNmNkLTRiM2NhMTY5MWQ5NyIsInR5cCI6IkpXVCJ9.eyJhdWQiOlsiaHR0cHM6Ly9hcGkuaGFzaGljb3JwLmNsb3VkIl0sImNsaWVudF9pZCI6ImhjcCIsImV4cCI6MTY4ODYyNjU5OCwiZXh0Ijp7Imh0dHBzOi8vYXV0aC5oYXNoaWNvcnAuY29tL2F1dGgwL2Nvbm5lY3Rpb24vaWQiOiJjb25fY0ZIaXNVaEE1Uzl2QnhDTyIsImh0dHBzOi8vYXV0aC5oYXNoaWNvcnAuY29tL2F1dGgwL2Nvbm5lY3Rpb24vbmFtZSI6IlVzZXJuYW1lLVBhc3N3b3JkLUF1dGhlbnRpY2F0aW9uIiwiaHR0cHM6Ly9hdXRoLmhhc2hpY29ycC5jb20vYXV0aDAvY29ubmVjdGlvbi9zdHJhdGVneSI6ImF1dGgwIiwiaHR0cHM6Ly9hdXRoLmhhc2hpY29ycC5jb20vaWRwIjoiYXV0aDAiLCJodHRwczovL2F1dGguaGFzaGljb3JwLmNvbS9zdWIiOiJhdXRoMHw2NGEyZmViNDAxNDQ1MDE2ZTNhZjVlYmUifSwiaWF0IjoxNjg4NjIyOTk4LCJpc3MiOiJodHRwczovL2dhbmVzaHNlZXRoYXJhbWFuMDEtbDlkOHg1eTkuZGV2LnBlZHAtcmVtb3RlLmhhc2hpY29ycC5zZXJ2aWNlcy8iLCJqdGkiOiJjM2NkMTQ3NS01ZjFhLTRmNDEtYWVmNC0zZTQyMGM5MzY5ZTAiLCJuYmYiOjE2ODg2MjI5OTgsInNjcCI6WyJvcGVuaWQiLCJvZmZsaW5lIl0sInN1YiI6IjA3YWQ0NjY0LWY3MTUtNDE3OS1hOTgyLTlhYzU3ZjJmNjY1MiJ9.D7HPQ_kKxJBfrE4k5my-vPYknt8RCn3OluP91iiZbS_ZWc08dOd8R580plTWns83UgSap5Tqh1_wWk5_fKeMZNQ87DFVmSV1ZORmg4fek3Ro3QLB9LS6Y8ERDIdZRws_PXbFkKar7KO7UNEV_69wqsZxTNeIkgC3OHEDck0LRnlZgTp8OKAEKIxmMz6ZWIVKzXn81r4TdiKoGzyaggnwRzJg9Pdq2fCBD1Bnpc2UBX2GgKsB0JgOQWoITq_ZobH4PaALlWm0KLeCBIvDN2Tl6swuAHW5NsvHVjRUel3taO6wZTGXu9R1nVq4i8h7miHP9Rz427JdLVhk2fUkzA0Z6-AyiHWaDE_--UjVJxRfnr2TQF9bNoG5aNEsdft_AVe5aICZ_VImJBJfCxF9jByvMg_2BYNkooUJy0BYVITMfjaXrlxLu3P_rtNDnwGqDcuNTypEAbQa7fD_H2fPQc0W0bsIeJ08BL-dZeBqpKhR-l5Z7I-FPcEjhSTS44i4t9j_b1ivD-x82aLGWSfAzONstTY-hq6JR9r6SYnWKpryCFaRuNmFUerZ6ftX7Wp7T1p57FZ6qovX_aCAfM_5qeBJPIjZaWEoPIJZXMKCGYVEOQ0sB3pnlrJM-yOsZHvgISmMB3rtc4XoUaKImzeeH6aIpM8TMQN9ZP8vxwC3cHv4hfU
ENV UI_TOKEN=UIPASS123321$$

CMD [ "node", "backend/app.js" ]
EXPOSE 3000
